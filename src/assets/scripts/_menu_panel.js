window.ProfileBook = window.ProfileBook || {};window.ProfileBook.on = window.ProfileBook.on || {};(function(){	window.ProfileBook.setupMenu = function(target){		var isLocked = false;		var tasks = {			activate : function(flag){				if(typeof ProfileBook.on.menuActive == "function"){					ProfileBook.on.menuActive(flag);				}				(target.classList[flag ? "add" : "remove"])(ProfileBook.config.menu.activeClassName);			}		};			target.addEventListener("mouseenter", function(event){			event.stopPropagation();			isLocked = false;			tasks.activate(true);		}, false);		target.addEventListener("mouseleave", function(event){			event.stopPropagation();			if(!isLocked){				tasks.activate(false);			}		}, false);				var anchors = target.querySelectorAll("A");		for(var i=0; i<anchors.length; i++){			anchors[i].addEventListener("click", function(event){				isLocked = true;			}, false);		}	};})();