window.ProfileBook = window.ProfileBook || {};window.ProfileBook.on = window.ProfileBook.on || {};(function(){	var headPanel, activePanel,link2top;	var tasks = {		init : function(){			link2top = document.getElementById("link2top");			activePanel = headPanel = document.querySelector(ProfileBook.config.headPanel.query);			tasks.transition();		},		transition : function(){			var hash = (!!window.location.hash && !!document.querySelector(window.location.hash)) ? window.location.hash : "";			var isHead = !window.location.hash || window.location.hash != hash;						if(isHead){				history.replaceState("root", null, location.pathname);				document.body.classList.remove("is-paged");				headPanel.classList.add("is-shown");				headPanel.classList.add("is-current");				link2top.classList.add("is-hidden");			}			else{				document.body.classList.add("is-paged");				headPanel.classList.remove("is-shown");				headPanel.classList.remove("is-current");				link2top.classList.remove("is-hidden");			}						if(!!hash && activePanel.id != "head_panel" && !isHead){				var prev = activePanel;				var next = document.querySelector(hash);								next.style.transform = "rotateY(0deg)";				prev.style.transform = "rotateY(-180deg)";				prev.classList.remove("is-current");				next.classList.add("is-current");				activePanel = next;								return;			}						var resetScrollPanel = function(panels, isScrollable){				if(ProfileBook.util.overflowScrolling.isTarget){					return;				}				for(var i=0; i<panels.length; i++){					(function(panel){						var scrollPanel = panel.querySelector(ProfileBook.config.scrollPanel.query);						if(!!scrollPanel){							scrollPanel.style.overflow = isScrollable ? "auto" : "hidden";						}					})(panels[i]);				}			};						if(!!hash && headPanel === activePanel){				activePanel.classList.remove("is-current");				activePanel = document.querySelector(hash);				activePanel.classList.add("is-current");								resetScrollPanel([activePanel, headPanel], false);				window.setTimeout((function(panel){					return function(){						resetScrollPanel([panel], true);					}				})(activePanel), ProfileBook.config.contentPanel.rotateDuration);								activePanel.style.transform = "rotateY(0deg)";				headPanel.style.transform = "rotateY(180deg)";							headPanel.classList.remove("is-shown");				return;			}			if(!hash && headPanel !== activePanel){				activePanel.classList.remove("is-current");								resetScrollPanel([activePanel, headPanel], false);				window.setTimeout((function(panel){					return function(){						resetScrollPanel([panel], true);					}				})(activePanel), ProfileBook.config.contentPanel.rotateDuration);								activePanel.style.transform = "rotateY(-180deg)";				headPanel.style.transform = "rotateY(0deg)";				headPanel.classList.add("is-shown");				activePanel = headPanel;				activePanel.classList.add("is-current");				return;			}		}	};		ProfileBook.initPageTransition = tasks.init;	ProfileBook.on.pageTransition = tasks.transition;})();